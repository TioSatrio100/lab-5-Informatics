# Лабораторный отчет 5

**ФИО:**  Cyбагто Сатрио- К3140


# Задание 1: Автоматизация проверки формата файлов при коммите

## Описание

В этом задании создается Git Hook для автоматической проверки формата файлов перед коммитом. Мы будем проверять:
1. Наличие файлов с расширением `.txt`.
2. Наличие текста в этих файлах, например, подписи автора в конце файла.

Git Hooks — это скрипты, которые автоматически запускаются в ответ на различные события в Git, такие как коммит, слияние и другие.

## Шаги выполнения задания

### 1. Переход в папку `.git/hooks`

Перейдите в папку вашего репозитория, а затем откройте директорию `.git/hooks`:

```bash
cd .git/hooks
```

### 2. Создание или редактирование файла pre-commit
Если файл pre-commit уже существует, откройте его для редактирования. Если его нет, создайте новый файл с этим именем:
```bash
nano pre-commit
```
![WhatsApp Image 2024-12-16 at 01 21 03 (1)](https://github.com/user-attachments/assets/4eba5c98-3a3e-4beb-ab73-6c6c66a2c59e)

### 3. Написание скрипта для проверки формата файлов
Откройте файл pre-commit в любом текстовом редакторе и добавьте следующий bash-скрипт:
```bash
#!/bin/bash

# Проверка всех .txt файлов
for file in $(git diff --cached --name-only | grep '\.txt$'); do
  # Проверка наличия текста в файле
  if ! grep -q "Автор" "$file"; then
    echo "Ошибка: В файле $file нет подписи автора!"
    exit 1
  fi
done

# Если все проверки прошли успешно
exit 0

```
![WhatsApp Image 2024-12-16 at 01 21 03 (2)](https://github.com/user-attachments/assets/d090e6cb-c436-4a38-ba93-3017df24ee5c)

## 4. Разрешение на выполнение файла
После того как скрипт будет написан, необходимо сделать файл исполнимым. Для этого выполните следующую команду:
```bash
chmod +x pre-commit

```

## 5. Проверка работы Git Hook

![WhatsApp Image 2024-12-16 at 01 21 03](https://github.com/user-attachments/assets/11047581-e450-460a-bc74-b789f842f51e)



# Задание 2: Использование Git Flow в проекте

## Описание

В этом задании мы настроим и используем **Git Flow** для управления процессом разработки в проекте. Git Flow — это расширение для Git, которое упрощает создание и управление ветками для различных этапов разработки (функциональные ветки, релизы, исправления ошибок).

Мы будем выполнять следующие этапы:
1. Инициализация Git Flow в репозитории.
2. Создание функциональной ветки для добавления нового функционала.
3. Завершение разработки функционала и слияние ветки с основной.
4. Создание ветки для релиза и завершение релиза.
5. Создание ветки для хотфикса, если необходимо, и завершение исправлений.

## Шаги выполнения задания

### 1. Установка и инициализация Git Flow

Для начала необходимо установить Git Flow на вашу машину. Если вы используете систему на базе Linux, выполните следующую команду для установки:

```bash
sudo apt-get install git-flow
```
![WhatsApp Image 2024-12-16 at 01 21 03 (3)](https://github.com/user-attachments/assets/a28b1b0f-bf19-4f13-98ef-ba6652e555ea)

### 2. Создание функциональной ветки

Предположим, что вам нужно добавить функциональность для управления задачами. Для этого создадим новую ветку с помощью команды Git Flow:

```bash
git flow feature start task-management

```
![WhatsApp Image 2024-12-16 at 01 21 03 (5)](https://github.com/user-attachments/assets/40f20e98-45b1-43e9-a8ad-90084fe17295)

### 3.азработка и коммиты

Внесите необходимые изменения в проект. Например, добавьте код для создания задач:
```bash
def create_task(title, description):
    print(f"Новая задача: {title}")

```
После внесения изменений добавьте их в индекс и выполните коммит:
```bash
git add task_manager.py
git commit -m "added task management"
```
![WhatsApp Image 2024-12-16 at 01 21 03 (4)](https://github.com/user-attachments/assets/c5208b9c-afa2-45fb-ac91-92b004e195c1)

### 4.Завершение функциональной ветки

После того как функциональность будет разработана, завершите ветку с помощью команды Git Flow:
```bash
git flow feature finish task-management
```

## 7. Завершение релиза
После подготовки всех изменений для релиза завершите процесс с помощью команды:

```bash
git flow release finish v1.0.0
```
![WhatsApp Image 2024-12-16 at 01 21 03 (6)](https://github.com/user-attachments/assets/2477a42a-c8a6-4de4-b443-09efe6894060)

## 8. Отправка изменений на удаленный репозиторий
После завершения всех операций отправьте изменения на удаленный репозиторий:
```bash
git push origin develop
git push origin main
```
используйте git diff main, чтобы увидеть, объединились ли main и development, если нет сообщения, то main и development объединились

![WhatsApp Image 2024-12-16 at 01 21 03 (7)](https://github.com/user-attachments/assets/501296be-c8ce-4244-9844-3eab22845047)


